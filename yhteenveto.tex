\chapter{Yhteenveto}
\label{ch:yhteenveto}
Diplomityön tuloksena saatiin ohjelmistokomponentti osaksi isompaa sähköasemien liittyvää järjestelmää. Komponentti kykeni tilaamaan tietoa IED-laitteelta IEC 61850 -stan\-dar\-din mukaisesti, muuntamaan tiedon JSON-muotoon ja jakamaan sen muun järjestelmän kanssa. Tiedon jako järjetelmässä toteutettiin AMQP-standardiin pohjautuvalla välittäjäpalvelimella, joka käyttää julkaisija-tilaaja- ja viestijono-kommunikointiparadigmoja. Toteutettun systeemin arkkitehtuuri esitettiin kuvasssa \ref{fig:planned-system-architecture}. Arkkitehtuurissa muu järjestelmä on vastuussa tilauksien orkesteroinnissa ja rcb\_sub-prosessien suorituksista.

Työssä tutkittiin eri kommunikointiparadigmojen sopivuutta IEC 61850 -standardiin ja vaatimuksiin nähden. Suunniteltuun arkkitehtuuriin paradigmoiksi olisi sopinut joukkokommunikointi tai julkaisija-tilaaja. Viestijono-paradigma tarvittiin viestin puskurointia varten. Toteutukseen valittiin AMQP-standardi, jonka myötä julkaisija-tilaaja-paradigma päätyi toteutukseen. AMQP ei suoraan ollut tarkoitettu joukkokommunikoinnin toteuttamiseen. IEC 61850 -standrdi määritti, että viestit IED-laitteelta tilataan julkaisija-tilaaja-paradigman mukaan. Toteutettun ohjelmiston ja valittujen paradigmojen voidaan sanoa jatkavan IED-laitteen tilausmekanismia ja näin ollen sopivat hyvin toteutukseen. Toteutus sallii monen tilaajan tilata sama tieto, mitä IEC 61850 -standardi ei ilman erillistä RCB-instanssia mahdollistanut. Lisäksi viestin muoto on helpommin luettava JSON, verrattuna MMS-protokollan binääriseen esitysmuotoon. Ohjelman tekemä JSON-muoto on nähtävissä liitteessä \ref{ch:report-json-format}.

Ennen diplomityön aloitusta tekijä oli yrityksessä toteuttanut demon ohjelmiston toimivuudesta. Demo oli tie oppia IEC 61850 -standardin toiminta ja perehtyä aiheeseen tarkemmin ennen oikeaa toteutusta. Demosta oli tarkoitus analysoida sen ongelmia joita olivat huono suorituskyky, muistivuoto ja toiminnan epävarmuus. Suorituskykyä saatiin toteutuksessa paremmaksi valitsemalla suorituskykyisempi C-kieli. C on käännettävä kieli verrattuna Rubyn tulkattavaan kieleen. Lisäksi C voi hyödyntää käyttöjärjestelmän säikeitä ilman rajoituksia verrattuna Ruby-tulkin globaaliin lukitukseen (GIL). Muistivuoto saatiin korjattua huolellisella ohjelmoinnilla ja varmistamalla, että muisti varmasti vapautettiin kun sitä ei enää tarvittu. Kielen valinnalla ohjelman muistinkäyttö saatiin entiseen nähden paljon pienemmäksi. Ruby:llä toteutettu demo käytti muistia noin 150 Mt ja rcb\_sub käytti noin 4 kt. Toteutetussa ohjelmassa ei ollut demossa havaittavia ongelmia ja on osoittanut tuotannossa toimivaksi muun järjestelmän kanssa.

Toteutettu ohjelmisto on tuotannossa osana muuta järjestelmä ja diplomityön kirjoittamisen valmiiksi saamiseen asti on toiminut ongelmitta. Kappaleessa \ref{ch:arviointi} arvioitiin ja pohdittiin saatuja tuloksia. Näiden pohjalta voidaan sanoa, että diplomityössä suunniteltu toteutus pääsi asetettuihin tavoitteisiin ja tutkimuskysyksiin löydettiin vastaus. Toteutus ei ole kuitenkaan täydellinen ja siinä on jatkokehitettävää. Näihin kohtiin tullaan yrityksessä panostamaan tulevaisuudessa ja muuttamaan niitä mikäli tarve vaatii. Diplomityön tulokset toivottavasti tarjoavat myös apua samankaltaisten järjestelmien suunnitteluun ja toteutukseen.