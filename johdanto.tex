\chapter{Johdanto}
\label{ch:johdanto}
Sähköverkko koostuu tuotantolaitoksista, sähkölinjoista ja sähköasemista. Sähköasemilla on erilaisia tehtäviä verkossa. Näitä ovat esimerkiksi jännitteen muuntaminen, verkon jakaminen ja sen toiminnan tarkkailu. Lisäksi nykypäivänä asemien toiminnallisuutta voidaan seurata ja ohjata etäohjauksella. Sähköaseman yksi tärkeä tehtävä on suojata ja tarkkailla verkon toimivuutta ja vikatilanteessa esimerkiksi katkaista linjasta virrat pois. Tällainen vikatilanne on esimerkiksi kaapelin poikkimeno, joka aiheuttaa vaarallisen oikosulkutilanteen.

Tässä diplomityössä on tarkoituksena suunnitella ja toteuttaa ohjelmistokomponentti osaksi isompaa sähköasemiin liittyvää järjestelmää. Komponentin tavoitteena on tilata tietoa verkon yli sähköaseman automaatiolaitteelta ja jakaa tieto järjestelmän muiden komponenttien kanssa. Tieto sähköasemilta tilataan tilaaja-julkaisija arkkitehtuurimallin mukaan. Tieto voi esimerkiksi sisältää mittaustietoa jännitteestä tai fyysisen katkaisijan tilasta. Komponentin täytyy prosesoida saapunut tieto ja jakaa se siitä kiinnostuneen järjestelmän komponentin kanssa. Esimerkkinä mittaustiedosta kiinnostunut komponentti tarvitsee tiedon käyttöliittymässä olevan mittarin päivittämiseen.

Tieto tilataan sähköasemilla olevilta \emph{älykkäiltä eletroniikkalaitteilta} (engl. \emph{Intelligent Electronic Device}, lyhennetään \emph{IED}). IED-laite on sähköaseman automaatiolaite, jota kutsutaan myös nimellä suojarele. IED-laite voidaan kytkeä ja konfiguroida toteuttamaan monta aseman eri funktionaalisuutta ja ne on myös kytketty aseman verkkoon. IED:t voivat kommunikoida paikallisverkon yli aseman muun laitteiston ja IED-laitteiden kanssa, ja näin toteuttaa aseman toiminnallisuutta. Nykypäivänä verkon nopeus mahdollistaa reaaliaikaisen kommunikoinnin asemalla sen eri laitteiden välillä. IED-laitteet voivat myös kommunikoida aseman paikallisverkosta ulospäin, esimerkiksi keskitettyyn ohjauskeskukseen. Tämän yhteyden kautta tässä työssä toteutettu ohjelmistokomponentin on tarkoitus tilata tieto verkon yli muun järjestelmän käyttöön. Yksi IED-laite voidaan esimerkiksi konfiguroida hoitamaan sähkölinjan kytkimenä oloa, joka myös tarkkailee linjan toimintaa mittaamalla konfiguroituja arvoja, kuten jännitettä ja virtaa. Vikatilanteen sattuessa IED katkaisee linjan virrasta suurempien tuhojen välttämiseksi. Linjan korjauksen jälkeen virta kytketään takaisin päälle.

IED-laitteet noudattavat kommunikoinnissa maailmanlaajuisesti määritettyä \emph{IEC 61850} -standardi (engl. \emph{International Electrotechnical Commission}). Standardin tarkoituksena on määrittää yhteinen kommunikointiprotokolla ja säännöt aseman kaikkien eri laitteiden välille. Tarkoituksena on ehkäistä jokaista valmistajaa tuottamasta omia versioita ja protokollia omille laitteilleen. Standardia noudattamalla eri IED-laitteet pystyvät kommunikoimaan keskenään yhteisillä säännöillä. Standardi määrittää tiedon tilaamisen mekanismit, jolla aseman ulkopuolinen ohjelma voi tilata tiedot verkon yli. Nämä määritykset ovat tämän työn kannalta tärkein osa standardia ja on mekanismi millä komponentti tiedon asemalta tilaa. Standardi on määritetty niin, että se voi toimia monella eri teknisellä toteutuksella. Tässä työssä standardin määrityksiä käytetään \emph{TCP/IP}-protokollaperheen päällä.

Työn tekijä oli jo ennen työn aloitusta Alsus Oy:ssä toteuttanut yksinkertaisen demoversion ohjelmasta (engl. proof of concept). Toteutus oli puutteellinen ja siinä oli toimintahäiriöitä, jotka estivät sen käytön tuotannossa luotettavasti. Demo todisti eri osien toimivuuden mahdollisuuden ja opetti tekijälle standardia. Tässä työssä demoa käytetään pohjana uuden toteutuksen suunnittelulle. Työssä analysoidaan sen toimintahäiriöitä ja mitkä ne aiheutti. Näitä tietoja käytetään pohjana uuden toteutuksen liittyvien päätöksien tekemiseen.

IEC 61850 -standardin ymmärtäminen on osa toteutusta, joten sitä käsitellään tässä työssä ennen suunnittelua ja toteutusta kappaleessa \ref{ch:iec61850-theory}. Toteutettu komponentti tilasi ja jakoi tiedot onnistuneesti muiden järjestelmän komponenttien kanssa. Toteutuksessa tiedon jakamiseen käytettiin \emph{AMQP}-standardiin (engl. \emph{Advanced Message Queuing Protocol}) pohjautuvaa \emph{RabbitMQ}-välityspalvelinta. AMQP-standardi käsitellään myös ennen varsinaista suunnittelua ja toteutusta kappaleessa \ref{ch:amqp-theory}.

Tämän työn tutkimustyön osuus on miettiä ja tutkia uuden toteutuksen arkkitehtuuria ja toteutusta. Arkkitehtuurin täytyy ottaa huomioon IEC 61850 -standardi ja sen asettamat rajoitteet. Tarkoitus on täyttää kaikki uudelle toteutukselle asetetut vaatimukset ja estää demoversioon liittyvät toimintahäiriöt. Työlle asetetaan tutkimuskysymyksiä, joita peilataan työn lopussa saavutettuihin tuloksiin ja pohditaan kuinka hyvin niihin päästiin. Työlle asetettiin seuraavat tutkimuskysymykset:
\begin{itemize}
	\item \emph{Mitkä ohjelmiston arkkitehtuurin suunnittelumallit (engl. design patterns) olisivat sopivia tämän kaltaisen ongelman ratkaisemiseen?}
	\item \emph{Kuinka järjestelmä hajautetaan niin että tiedon siirto eri osapuolten välillä on mahdollista ja joustavaa?}
	\item \emph{Mitkä olivat syyt demoversion toimintahäiriöihin ja kuinka nämä estetään uudessa toteutuksessa?}
	\item \emph{Järjestelmän hajautuksessa, mikä olisi sopiva tiedon jakamisen muoto eri osapuolten välillä?}
\end{itemize}